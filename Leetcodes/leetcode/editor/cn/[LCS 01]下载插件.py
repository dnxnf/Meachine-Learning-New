# å°æ‰£æ‰“ç®—ç»™è‡ªå·±çš„ **VS code** å®‰è£…ä½¿ç”¨æ’ä»¶ï¼Œåˆå§‹çŠ¶æ€ä¸‹å¸¦å®½æ¯åˆ†é’Ÿå¯ä»¥å®Œæˆ `1` ä¸ªæ’ä»¶çš„ä¸‹è½½ã€‚å‡å®šæ¯åˆ†é’Ÿé€‰æ‹©ä»¥ä¸‹ä¸¤ç§ç­–ç•¥ä¹‹ä¸€:
# - ä½¿ç”¨å½“å‰å¸¦å®½ä¸‹è½½æ’ä»¶
# - å°†å¸¦å®½åŠ å€ï¼ˆä¸‹è½½æ’ä»¶æ•°é‡éšä¹‹åŠ å€ï¼‰
# 
# è¯·è¿”å›å°æ‰£å®Œæˆä¸‹è½½ `n` ä¸ªæ’ä»¶æœ€å°‘éœ€è¦å¤šå°‘åˆ†é’Ÿã€‚
# 
# æ³¨æ„ï¼šå®é™…çš„ä¸‹è½½çš„æ’ä»¶æ•°é‡å¯ä»¥è¶…è¿‡ `n` ä¸ª
# 
# **ç¤ºä¾‹ 1ï¼š**
# 
# > è¾“å…¥ï¼š`n = 2`
# >
# > è¾“å‡ºï¼š`2`
# >
# > è§£é‡Šï¼š
# > ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ¡ˆï¼Œéƒ½èƒ½å®ç° 2 åˆ†é’Ÿå†…ä¸‹è½½ 2 ä¸ªæ’ä»¶
# > - æ–¹æ¡ˆä¸€ï¼šç¬¬ä¸€åˆ†é’Ÿå¸¦å®½åŠ å€ï¼Œå¸¦å®½å¯æ¯åˆ†é’Ÿä¸‹è½½ 2 ä¸ªæ’ä»¶ï¼›ç¬¬äºŒåˆ†é’Ÿä¸‹è½½ 2 ä¸ªæ’ä»¶
# > - æ–¹æ¡ˆäºŒï¼šç¬¬ä¸€åˆ†é’Ÿä¸‹è½½ 1 ä¸ªæ’ä»¶ï¼Œç¬¬äºŒåˆ†é’Ÿä¸‹è½½ 1 ä¸ªæ’ä»¶
# 
# **ç¤ºä¾‹ 2ï¼š**
# 
# > è¾“å…¥ï¼š`n = 4`
# >
# > è¾“å‡ºï¼š`3`
# >
# > è§£é‡Šï¼š
# > æœ€å°‘éœ€è¦ 3 åˆ†é’Ÿå¯å®Œæˆ 4 ä¸ªæ’ä»¶çš„ä¸‹è½½ï¼Œä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€ç§æ–¹æ¡ˆ:
# > ç¬¬ä¸€åˆ†é’Ÿå¸¦å®½åŠ å€ï¼Œå¸¦å®½å¯æ¯åˆ†é’Ÿä¸‹è½½ 2 ä¸ªæ’ä»¶;
# > ç¬¬äºŒåˆ†é’Ÿä¸‹è½½ 2 ä¸ªæ’ä»¶;
# > ç¬¬ä¸‰åˆ†é’Ÿä¸‹è½½ 2 ä¸ªæ’ä»¶ã€‚
# 
# **æç¤ºï¼š**
# - `1 <= n <= 10^5`
# 
#  Related Topics è´ªå¿ƒ æ•°å­¦ åŠ¨æ€è§„åˆ’ ğŸ‘ 53 ğŸ‘ 0

from typing import List, Optional


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def leastMinutes1(self, n: int) -> int:
        if n == 1:
            return 1
        if n == 2:
            return 2
        if n == 3:
            return 3
        if n == 4:
            return 3
        res = 1
        ans = 0
        # èƒ½ç¿»å€å°±ä¸€ç›´ç¿»å€ï¼Œç›´åˆ°ç¿»å€åå¤§äºç­‰äºn
        while res < n:
            res *= 2
            ans += 1
        return ans + 1
        # èƒ½ä¸‹è½½nä¸ªå°±ä¸‹è½½nä¸ªï¼Œå¦åˆ™ä¸‹è½½resä¸ª

    def leastMinutes(self, n: int) -> int:
        if n == 1:
            return 1
        if n == 2:
            return 2
        if n == 3:
            return 3
        if n == 4:
            return 3
        # åŠ¨æ€è§„åˆ’,åé¢çš„ç”±å‰é¢å†³å®šï¼Œå¦‚æœå‰é¢èƒ½ä¸‹è½½iä¸ªï¼Œé‚£ä¹ˆåé¢å°±èƒ½ä¸‹è½½2iä¸ª
        dp = [0] * (n + 1)
        dp[1] = 1
        dp[2] = 2
        dp[3] = 3
        dp[4] = 3
        # å¦‚æœ
        for i in range(5, n + 1):
            dp[i] = min(dp[i - 1] + 1, dp[(i + 1) // 2] + 1)
        return dp[n]


# leetcode submit region end(Prohibit modification and deletion)

if __name__ == "__main__":
    # åˆ›å»ºSolutionå®ä¾‹
    solution = Solution()
    print(solution.leastMinutes(8))
