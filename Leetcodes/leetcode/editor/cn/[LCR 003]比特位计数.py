# ç»™å®šä¸€ä¸ªéžè´Ÿæ•´æ•° n ï¼Œè¯·è®¡ç®— 0 åˆ° n ä¹‹é—´çš„æ¯ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•°ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªæ•°ç»„ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1: 
# 
#  
# è¾“å…¥: n = 2
# è¾“å‡º: [0,1,1]
# è§£é‡Š: 
# 0 --> 0
# 1 --> 1
# 2 --> 10
#  
# 
#  ç¤ºä¾‹ 2: 
# 
#  
# è¾“å…¥: n = 5
# è¾“å‡º: [0,1,1,2,1,2]
# è§£é‡Š:
# 0 --> 0
# 1 --> 1
# 2 --> 10
# 3 --> 11
# 4 --> 100
# 5 --> 101
#  
# 
#  
# 
#  è¯´æ˜Ž : 
# 
#  
#  0 <= n <= 10âµ 
#  
# 
#  
# 
#  è¿›é˜¶: 
# 
#  
#  ç»™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(n*sizeof(integer)) çš„è§£ç­”éžå¸¸å®¹æ˜“ã€‚ä½†ä½ å¯ä»¥åœ¨çº¿æ€§æ—¶é—´ O(n) å†…ç”¨ä¸€è¶Ÿæ‰«æåšåˆ°å—ï¼Ÿ 
#  è¦æ±‚ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º O(n) ã€‚ 
#  ä½ èƒ½è¿›ä¸€æ­¥å®Œå–„è§£æ³•å—ï¼Ÿè¦æ±‚åœ¨C++æˆ–ä»»ä½•å…¶ä»–è¯­è¨€ä¸­ä¸ä½¿ç”¨ä»»ä½•å†…ç½®å‡½æ•°ï¼ˆå¦‚ C++ ä¸­çš„ __builtin_popcount ï¼‰æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚ 
#  
# 
#  
# 
#  
#  æ³¨æ„ï¼šæœ¬é¢˜ä¸Žä¸»ç«™ 338 é¢˜ç›¸åŒï¼šhttps://leetcode-cn.com/problems/counting-bits/ 
# 
#  Related Topics ä½è¿ç®— åŠ¨æ€è§„åˆ’ ðŸ‘ 160 ðŸ‘Ž 0

from typing import List, Optional


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def countBits(self, n: int) -> List[int]:
        if n == 0:
            return [0]
        if n == 1:
            return [0, 1]
        if n == 2:
            return [0, 1, 1]
        dp = [0] * (n + 1)
        dp[1] = 1
        dp[2] = 1
        # [0, 1, 1]
        # n>2æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯è¯´ä»Žç¬¬ä¸‰é¡¹å¼€å§‹ï¼Œ
        # é€’æŽ¨å…¬å¼ï¼šå½“næ˜¯2çš„æ¬¡æ–¹æ—¶ï¼Œdp[n]ä¸º1
        # å½“nä¸æ˜¯2çš„æ¬¡æ–¹ï¼Œæ¯”å¦‚3
        # 0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,
        for i in range(3, n + 1):
            if i & 1 == 0:
                dp[i] = dp[i >> 1]
            else:
                dp[i] = dp[i - 1] + 1
        return dp


# leetcode submit region end(Prohibit modification and deletion)

if __name__ == "__main__":
    # åˆ›å»ºSolutionå®žä¾‹
    solution = Solution()
    print(solution.countBits(10))
